<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mundo das IA's | Neural Hub 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root { --cyan: #00f2ff; --purple: #7000ff; --dark: #020617; }
        body { background: var(--dark); color: #f8fafc; font-family: 'Rajdhani', sans-serif; overflow-x: hidden; }
        .logo-font { font-family: 'Orbitron', sans-serif; }
        .cyber-card { background: rgba(30,41,59,0.5); border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; border-radius: 20px; overflow: hidden; display: flex; flex-direction: column; }
        .cyber-card:hover { border-color: var(--cyan); box-shadow: 0 0 20px rgba(0,242,255,0.1); }
        .sort-btn { padding: 8px 16px; border-radius: 12px; font-size: 10px; font-weight: bold; text-transform: uppercase; border: 1px solid rgba(255,255,255,0.1); transition: 0.3s; }
        .sort-btn.active { background: var(--cyan); color: black; border-color: var(--cyan); }
        .lang-btn { width: 24px; cursor: pointer; opacity: 0.4; transition: 0.3s; }
        .lang-btn.active { opacity: 1; transform: scale(1.2); filter: drop-shadow(0 0 5px var(--cyan)); }
        .mobile-nav { position: fixed; bottom: 0; left: 0; width: 100%; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); display: flex; justify-content: space-around; padding: 15px; z-index: 100; border-top: 1px solid rgba(255,255,255,0.1); }
        @media (min-width: 1024px) { .mobile-nav { display: none; } }
    </style>
</head>
<body class="pb-24 lg:pb-0">
    <nav class="fixed top-0 w-full bg-black/80 backdrop-blur-xl border-b border-white/5 z-50 px-6 py-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="logo-font text-white leading-none">
                <div class="text-xl font-black">MUNDO DAS IA'S</div>
                <div class="text-cyan-400 text-[8px] tracking-[0.4em]">NEURAL HUB 2026</div>
            </div>
            <div class="flex items-center gap-4">
                <img src="https://flagcdn.com/w40/br.png" class="lang-btn active" id="btn-pt" onclick="switchLang('pt')">
                <img src="https://flagcdn.com/w40/es.png" class="lang-btn" id="btn-es" onclick="switchLang('es')">
                <img src="https://flagcdn.com/w40/us.png" class="lang-btn" id="btn-en" onclick="switchLang('en')">
            </div>
        </div>
    </nav>

    <main class="pt-32 px-6 max-w-7xl mx-auto">
        <div class="mb-12 space-y-6">
            <input type="text" id="iaSearch" onkeyup="filterAndSort()" class="w-full bg-slate-900 border border-white/10 p-4 rounded-2xl text-cyan-400 focus:border-cyan-400 outline-none uppercase font-bold text-xs tracking-widest" placeholder="BUSCAR NO ARSENAL...">
            
            <div class="flex flex-wrap gap-2 justify-center lg:justify-start">
                <button id="sort-rel" onclick="setSort('rel')" class="sort-btn active">Relevância</button>
                <button id="sort-recent" onclick="setSort('recent')" class="sort-btn">Recentes</button>
                <button id="sort-hits" onclick="setSort('hits')" class="sort-btn">Mais Acessados</button>
            </div>
        </div>

        <div id="ia-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </main>

    <div class="mobile-nav">
        <button onclick="window.scrollTo(0,0)" class="text-[10px] font-bold uppercase text-cyan-400">Home</button>
        <button onclick="openTab('cursos')" class="text-[10px] font-bold uppercase text-slate-400">Academy</button>
        <button onclick="openTab('institucional')" class="text-[10px] font-bold uppercase text-slate-400">Hub</button>
    </div>

    <div id="mainModal" class="fixed inset-0 z-[110] hidden bg-black/95 backdrop-blur-2xl p-6 flex items-center justify-center" onclick="closeTab()">
        <div class="bg-slate-900 border border-cyan-400/20 p-8 rounded-[30px] max-w-2xl w-full max-h-[80vh] overflow-y-auto" onclick="event.stopPropagation()">
            <div id="modalBody" class="prose prose-invert max-w-none text-slate-400"></div>
            <button onclick="closeTab()" class="mt-8 w-full py-4 bg-cyan-400 text-black font-black rounded-xl uppercase text-xs">Fechar</button>
        </div>
    </div>

    <script>
        const i18n = {
            pt: { access: "Acessar", share: "Olha essa IA!", rel: "Relevância", recent: "Recentes", hits: "Acessados",
                  inst: "<h2>Mundo das IA's 2026</h2><p>Líder em curadoria tecnológica.</p>",
                  terms: "<h2>Termos</h2><p>Uso informativo.</p>" },
            es: { access: "Acceder", share: "¡Mira esta IA!", rel: "Relevancia", recent: "Recientes", hits: "Más vistos",
                  inst: "<h2>Mundo de las IA 2026</h2><p>Líder en curaduría tecnológica.</p>",
                  terms: "<h2>Términos</h2><p>Uso informativo.</p>" },
            en: { access: "Access", share: "Check this AI!", rel: "Relevance", recent: "New", hits: "Popular",
                  inst: "<h2>AI World 2026</h2><p>Leader in tech curation.</p>",
                  terms: "<h2>Terms</h2><p>Informational use.</p>" }
        };

        let currentLang = 'pt';
        let currentSort = 'rel';
        let todasIAs = [];

        async function init() {
            const urlCSV = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTpSTfK25-ua58vCKKZ7IxNGn4ZQ2EaoqOD261M4fhTJkvA-slW2kL8hAL5jWTq2rbcSkAhVB5nqekW/pub?output=csv";
            const res = await fetch(urlCSV);
            const text = await res.text();
            const rows = text.split(/\r?\n/).slice(1);
            todasIAs = rows.map(row => {
                const col = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                return { cat: col[0], nome: col[1], desc: col[2], link: col[3], img: col[4] || "https://images.unsplash.com/photo-1677442136019-21780ecad995?w=500", hits: parseInt(col[5]) || 0, rating: col[6] || "5.0", data: new Date(col[7] || "2026-01-01") };
            }).filter(i => i.nome);
            filterAndSort();
        }

        function setSort(s) {
            currentSort = s;
            document.querySelectorAll('.sort-btn').forEach(b => b.classList.toggle('active', b.id === 'sort-'+s));
            filterAndSort();
        }

        function filterAndSort() {
            const search = document.getElementById('iaSearch').value.toLowerCase();
            let filtradas = todasIAs.filter(i => i.nome.toLowerCase().includes(search));
            
            if(currentSort === 'rel') filtradas.sort((a,b) => b.rating - a.rating);
            if(currentSort === 'hits') filtradas.sort((a,b) => b.hits - a.hits);
            if(currentSort === 'recent') filtradas.sort((a,b) => b.data - a.data);

            renderCards(filtradas);
        }

        function renderCards(lista) {
            const t = i18n[currentLang];
            document.getElementById('ia-grid').innerHTML = lista.map(ia => `
                <div class="cyber-card group">
                    <div class="h-40 relative">
                        <img src="${ia.img}" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition">
                            <a href="https://api.whatsapp.com/send?text=${encodeURIComponent(t.share + ' ' + ia.link)}" target="_blank" class="p-2 bg-green-500 rounded-full">Share</a>
                        </div>
                    </div>
                    <div class="p-5 flex-grow">
                        <div class="flex justify-between items-center mb-2">
                            <h3 class="font-bold text-sm uppercase">${ia.nome}</h3>
                            <span class="text-cyan-400 text-[10px]">${ia.rating}★</span>
                        </div>
                        <p class="text-[10px] text-slate-400 mb-4 line-clamp-2">${ia.desc}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-[8px] opacity-40 uppercase">${ia.hits} Hits</span>
                            <a href="${ia.link}" target="_blank" onclick="google.script.run.registrarClique('${ia.nome}')" class="px-4 py-2 bg-cyan-400 text-black font-black text-[9px] rounded-lg uppercase">${t.access}</a>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function switchLang(l) {
            currentLang = l;
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.toggle('active', b.id === 'btn-'+l));
            document.getElementById('sort-rel').innerText = i18n[l].rel;
            document.getElementById('sort-recent').innerText = i18n[l].recent;
            document.getElementById('sort-hits').innerText = i18n[l].hits;
            filterAndSort();
        }

        function openTab(type) {
            document.getElementById('modalBody').innerHTML = i18n[currentLang][type === 'institucional' ? 'inst' : 'terms'];
            document.getElementById('mainModal').classList.remove('hidden');
        }

        function closeTab() { document.getElementById('mainModal').classList.add('hidden'); }

        init();
    </script>
</body>
</html>
